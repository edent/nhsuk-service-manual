// NHS.UK Frontend
@import 'node_modules/nhsuk-frontend/packages/nhsuk';

// App specific styles
@import 'app/app';

// Design examples
@import 'design-example/design-example';

// Image with border
.nhsuk-image--border {
  @include nhsuk-responsive-margin(7, 'bottom');

  border: 1px solid $color_nhsuk-grey-4;
  width: 100%;
}

/**
 * Hotfix for an issue with nested list spacing in
 * the NHS.UK frontend library
 *
 * https://github.com/nhsuk/nhsuk-frontend/issues/430
 */

.nhsuk-u-nested-list {
  margin-bottom: 0;
}

.nhsuk-u-nested-list > li {
  @include nhsuk-responsive-margin(2, 'top');
}

// Fix to give 24px to heading-l after the details component
// This needs to be added to the frontend library
.nhsuk-details  + %nhsuk-heading-l {
  @include nhsuk-responsive-padding(4, 'top');
}

// Container
.nhsuk-width-container {
  max-width: 1100px;

  @media (min-width: 767px) and (max-width: 1164px) {
    margin: 0 32px;
  }
}

.nhsuk-header__navigation {
  max-width: 1100px;

  @media (min-width: 990px) and (max-width: 1164px) {
    margin: 0 32px;
  }
}

// Button reverse
// Bug fix for the visited link colour
.nhsuk-button--reverse:visited {
  color: $color_nhsuk-black;
}

// Action link reverse
// A variant of the action link
.app-action-link--reverse {
  color: $color_nhsuk-white;

  &:focus {
    color: $color_nhsuk-black;

    &:visited {
      color: $color_nhsuk-black;
    }

    &:hover {
      color: $color_nhsuk-white;

      .nhsuk-icon__arrow-right-circle {
        fill: $color_nhsuk-white;
      }
    }

    .nhsuk-icon__arrow-right-circle {
      fill: $color_nhsuk-black;
    }
  }

  &:hover,
  &:visited,
  &:visited {
    background: 0;
    box-shadow: none;
    color: $color_nhsuk-white;
  }

  .nhsuk-icon__arrow-right-circle {
    fill: $color_nhsuk-white;
  }
}

// Hero
// Overrides to include the action link
.nhsuk-hero--service-manual {
  .nhsuk-hero__wrapper {
    @include nhsuk-responsive-padding(7, 'bottom');
    @include nhsuk-responsive-padding(7, 'top');
    @include top-and-bottom;
  }
}

// Nav override
// This change will be a part of the org header work
.nhsuk-header__navigation-link {
  font-size: 16px;
}

// Frontend override
// Should be refactored into the frontend
.nhsuk-body-m {
  font-weight: 400;
}

// Table constrained
// To make it align with content
.nhsuk-table--constrained {
  max-width: 44em;
}

// Table bug hot fix
.nhsuk-table__cell.nhsuk-body-s {
  display: table-cell;
}

th,
td {
  padding-left: 0;
  vertical-align: top;
}

// Table numeric styling
.nhsuk-table__header--numeric,
.nhsuk-table__cell--numeric {
  text-align: right;
}

// Table hot fix for removing margin top
.nhsuk-table-responsive {
  margin-top: 0;
}

// Header hotfix - will be fixed with org header work
.nhsuk-header__service-name {
  padding-top: 0;
}

// Header active page section
.nhsuk-header__navigation-link--active {
  box-shadow: inset 0 -4px $color_nhsuk-white;
  font-weight: 600;
}

// Index page navigation (mobile only)
.app-index-navigation {
  @include nhsuk-responsive-margin(4, 'top');

  @include mq($from: desktop) {
    display: none;
  }

}

// Example
.app-example {
  @include top-and-bottom;
  @include nhsuk-responsive-margin(5, 'bottom');
  @include nhsuk-responsive-margin(2, 'top');
  @include nhsuk-responsive-padding(5, 'bottom');
  @include nhsuk-responsive-padding(5, 'left');
  @include nhsuk-responsive-padding(5, 'right');
  @include nhsuk-responsive-padding(7, 'top');

  border: 1px solid $color_nhsuk-grey-3;
  padding: 48px 32px 32px;
  position: relative;
}

.app-example__heading {
  left: -1px;
  position: absolute;
  top: -1px;
}

.app-example + h2 {
  @include nhsuk-responsive-padding(4, 'top');
}

.app-example + h3 {
  @include nhsuk-responsive-padding(2, 'top');
}

// Breadcrumbs hot fixes
.nhsuk-breadcrumb__link,
.nhsuk-breadcrumb__backlink {
  &:visited {
    color: $color_nhsuk-blue;
  }
  &:hover {
    color: $color_nhsuk-black;
  }
  &:focus {
    &:visited {
      color: $color_nhsuk-black;
    }
  }
}
